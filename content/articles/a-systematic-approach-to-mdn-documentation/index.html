{"title": "A systematic approach to MDN documentation?", "date": "2014-12-04 23:23:34", "description": "", "categories": ["mozilla", "gecko"], "slug": "a-systematic-approach-to-mdn-documentation"}

	<p><strong>Note</strong>: This blog post started as a rant about <span class="caps">MDN</span> which is sadly not very useful for add-on authors way too often. I tried to reformulate it in a neutral way. The point definitely isn&#8217;t blaming the people working hard on keeping that documentation up to date.</p>

	<p><span class="caps">MDN</span> has some great content. However, as far as extension development goes, maybe somewhat less content and more structure/quality would be beneficial. Yes, there are a few well-written <a href="https://developer.mozilla.org/en-US/Add-ons">overview articles</a>. But quite frankly, I&#8217;ve seen them for the first time today&nbsp;&mdash; because most of the time I&#8217;ll get to <span class="caps">MDN</span> via a search engine. And if you take this route, there is a good chance to hit an article that pre-dates Firefox 4.0.</p>

	<p>Don&#8217;t believe me? Try searching for a guide to write <span class="caps">XPCOM</span> components. You are bound to hit <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Guide/Creating_components">this book</a> written more than a decade ago. Not only is it horribly outdated, it explains how one would create such a component in C++&nbsp;&mdash; something that is <a href="/2011/07/12/binary-xpcom-components-are-dead-js-ctypes-is-the-way-to-go">completely impracticable for extensions</a> in current Firefox versions.</p>

	<p>The <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Guide/Building_components_in_JavaScript">next search hit</a> is only marginally better. The examples here have been somewhat updated to work in recent Firefox versions. It starts by sending people to an extension which is compatible with Firefox 3.0. It then explains the scary details of defining your own interface&nbsp;&mdash; yet most developers simply want to implement an existing interface. And as if the original document wasn&#8217;t already crappy enough, somebody also added instructions on integrating the whole thing into the Mozilla build system&nbsp;&mdash; all that before the actually relevant stuff of course. You might also end up in <a href="https://developer.mozilla.org/en-US/docs/Troubleshooting_XPCOM_components_registration">this troubleshooting guide</a> which used to be pretty helpful&nbsp;&mdash; five years ago.</p>

	<p>In fact, <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Guide/Changes_in_Gecko_2.0"><span class="caps">XPCOM</span> Changes in Gecko 2.0</a> seems to be the only piece of documentation with a complete explanation, starting with the code of the component itself and ending with the way it is registered via <code>chrome.manifest</code>. Not that this document is comprehensible, being primarily a list of changes. And of course, that&#8217;s a place where nobody will come looking.</p>

	<p>Another example: JavaScript Debugger <span class="caps">API</span>. The old <span class="caps">API</span> (ugly but well-documented) has been removed from Firefox, taking a look at the new one is overdue. There is an easy to find <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/JS_Debugger_API_Guide">JS Debugger <span class="caps">API</span> Guide</a>, linking to a seemingly complete JS Debugger <span class="caps">API</span> Reference. Great, right? But it is incomplete and outdated. In particular, the most important piece of information for extensions is missing: how do I find the existing global objects?</p>

	<p>And then there is a document called <a href="https://developer.mozilla.org/en-US/docs/Tools/Debugger-API">Debugger-<span class="caps">API</span></a>, confusingly placed under Firefox Developer Tools. It took a while for me to realize that it isn&#8217;t related to the debugger tool in Firefox, it&#8217;s rather an autogenerated documentation of the JavaScript Debugger <span class="caps">API</span>. And this one seems to be complete and current! &#8220;Autogenerated&#8221; here means that somebody from the SpiderMonkey team didn&#8217;t want to mess with the wiki syntax (cannot blame them) and put a bunch of Markdown files into the SpiderMonkey source tree instead&nbsp;&mdash; these were then imported into <span class="caps">MDN</span>.</p>

	<p>This isn&#8217;t even about the long list of nice functionality that was implemented but never documented. Like the <span class="caps">XPCOM</span> iterator helpers <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=541594">introduced four years ago</a>. Or a way to <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=779306">listen to all events</a>. Or a way to <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=737003">apply user stylesheets to individual documents</a>. Yes, the dev-doc-needed queue is very long and there is only so many people who contribute to <span class="caps">MDN</span> (besides, they would also need to understand the change).</p>

	<p>So, how can this be solved? I see a few options:</p>

	<ul>
		<li>Marking documents as <a href="https://developer.mozilla.org/en-US/docs/tag/Deprecated">deprecated</a> or <a href="https://developer.mozilla.org/en-US/docs/tag/Obsolete">obsolete</a> isn&#8217;t sufficient, documents that aren&#8217;t useful need huge and very visible warnings at the very least. But frankly, why still keep them around?</li>
		<li>Mozilla has great technical writers but they clearly cannot keep up. That&#8217;s not really surprising given how much Mozilla has grown. Maybe developers who actually wrote the changes could help beyond setting the <code>dev-doc-needed</code> flag? Sure, not everybody is a great writer. However, <strong>some</strong> documentation is already something that can be improved.</li>
		<li>Some documents like the ones on <span class="caps">XPCOM</span> components and JavaScript modules can be checked automatically&nbsp;&mdash; a script can verify that the documented interface matches the current source code. If they don&#8217;t they can be flagged as needing an update (maybe even visible to <span class="caps">MDN</span> users and editors).</li>
	</ul>

	<p>Anything else that can be done?</p>