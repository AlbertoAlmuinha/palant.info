{
  "title": "So Google is now claiming: \"no one (including Google) can access your data\"",
  "date": "2018-10-15 11:50:23",
  "description": "It seems that Google exaggerates when they claim that they won't be able to access user's uploaded Android backups.",
  "categories": [
    "security"
  ],
  "slug": "so-google-is-now-claiming-no-one-including-google-can-access-your-data"
}

<p>A few days ago Google <a href="https://security.googleblog.com/2018/10/google-and-android-have-your-back-by.html">announced ensuring privacy for your Android data backups</a>. The essence is that your lockscreen <span class="caps">PIN</span>/pattern/passcode is used to encrypt your data and nobody should be able to decrypt it without knowing that passcode. Hey, that&#8217;s including Google themselves! Sounds good? <a href="/2018/03/13/can-chrome-sync-or-firefox-sync-be-trusted-with-sensitive-data">Past experience</a> indicates that such claims <a href="/2018/07/09/is-your-lastpass-data-really-safe-in-the-encrypted-online-vault">should not always be taken at face value</a>. And in fact, this story raises some red flags for me.</p>

<p>The trouble is, whatever you use on your phone&#8217;s lockscreen is likely not very secure. It doesn&#8217;t have to be, because the phone will lock up after a bunch of failed attempts. So everybody goes with <a href="https://www.grahamcluley.com/kanye-west-iphone-passcode/">a passcode that is easy to type</a> but probably not too hard to guess. Can you derive an encryption key from that passcode? Sure! Will this encryption be unbreakable? Most definitely not. With passwords being that simple, anybody getting their hands on encrypted data will be able to guess the password and decrypt the data within a very short time. That will even be the case for a well-chosen key derivation algorithm (and we don&#8217;t know yet which algorithm Google chose to use here).</p>

<p>Google is aware of that of course. So they don&#8217;t use the derived encryption key directly. Instead, the derived encryption key is used to encrypt a proper (randomly generated) encryption key, only the latter being used to encrypt the data. And then they find themselves in trouble: how could one possibly store the encryption key securely? On the one hand, they cannot keep it on user&#8217;s device because data might be shared between multiple devices. On the other hand, they don&#8217;t want to upload the key to their servers either, because of how unreliable the encryption layer on top of it is&nbsp;&mdash; running a bruteforce attack to extract the actual encryption key would be trivial even without having Google&#8217;s resources.</p>

<p>So they used a trick. The encryption key isn&#8217;t uploaded to a Google server, it is uploaded to a Titan security chip on a Google server. Presumably, your Android device will establish an encrypted connection directly to that Titan chip, upload your private key and the Titan chip will prevent bruteforce attacks by locking up after a few attempts at guessing your passcode. Problem solved?</p>

<p>Not quite. First of all, how do you know that whatever your Android device is uploading the private key to is really a Titan chip and not a software emulation of it? Even if it is, how do you know that it is running unmodified firmware as opposed to one that allows extracting data? And how do you know that Google really has no means of resetting these chips without all data being cleared? It all boils down to: you have to trust Google. In other words: it&#8217;s not that Google <em>cannot</em> access your data, they don&#8217;t <em>want</em> to. And you have to take their word on it. You also have to trust them when they claim that the <span class="caps">NSA</span> didn&#8217;t force them into adding a backdoor to those Titan chips.</p>

<p>Don&#8217;t take me wrong, they probably produced the best solution given what they have to work with. And for most Android users, their solution should still be a win, despite the shortcomings. But claiming that Google can no longer access usersâ€™ backup data is misleading.</p>