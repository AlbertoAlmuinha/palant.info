{
  "publishDate": "2015-08-24 11:16:20",
  "author": "David Rajchenbach-Teller",
  "authorUrl": "http://yoric.rajtel.name",
  "id": "000833"
}

	<p>I&#8217;m sometimes involved in add-on stuff in Firefox, but I&#8217;m not in any way involved to WebExtensions, so keep in mind that what follows is purely an interpretation. Also, I&#8217;m writing as a community member (and add-on dev, in a now distant past), not as a Mozilla employee.</p>

	<p>As you mention, there were two possible choices forward, and both of them involved giving up on the current <span class="caps">XUL</span>/XPCOM model.</p>

	<p>The first choice is Jetpack, the second is some new <span class="caps">API</span>. I have not followed this closely, so I may be entirely wrong, but it is my understanding that there were fundamental design errors in Jetpack â€“ I don&#8217;t know which ones, but apparently, the main symptom is that every single Jetpack add-on happens to `require(&#8220;chrome&#8221;)`, i.e. entirely short-circuits Jetpack itself, which is a pretty bad sign. Also, I remember a public announcement one or two years ago that Jetpack was effectively deprecated for everything except devtools. While it may have been possible to put Jetpack back on tracks, it is my understanding that making Jetpack as good as it was needed would have killed all existing add-ons, which would have made the current situation even uglier. Additionally, to answer your point about extracting the list of modules used by an add-on, it is pretty easy to write code that obfuscates this very convincingly and make any analysis untractable.</p>

	<p>The second choice is to go for a new <span class="caps">API</span>. Rather than inventing a new <span class="caps">API</span> from scratch, I believe that it makes sense to start with an <span class="caps">API</span> that is widely successful (in term of numbers of maintained &amp; downloaded add-ons), and work on improving it. I know that Mozilla hopes that this will make the life of add-on developers much simpler. It is also my understanding that the WebExtension team does not aim for bug-for-bug compatibility with Blink. WebExtensions will not magically make all Blink add-ons work with Firefox, but they should make it much simpler to share code between the Blink, the Firefox version and, apparently, the Edge version. It is pretty clear that Blink, Firefox and Edge will all implement supersets of WebExtension and support feature detection.</p>

	<p>As for the question of permissions, you raise very valid questions. It is my understanding that Firefox-style permissions will not be the same as Chrome-style permissions, but I do not know any specifics. I can only suggest you get in touch with the WebExtensions team and work with them on making Firefox-style permissions better than Chrome-style permissions.</p>


