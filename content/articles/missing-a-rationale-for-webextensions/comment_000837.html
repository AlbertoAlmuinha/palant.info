{"publishDate": "2015-08-24 18:54:31", "author": "Goel", "authorUrl": "", "id": "000837"}

	<p>Add-ons using require(&#8220;chrome&#8221;) somewhere happens when the <span class="caps">SDK</span> <span class="caps">API</span>s aren&#8217;t enough.</p>

	<p>I think it&#8217;s a symptom of a problem with the ecosystem. When something isn&#8217;t available in the <span class="caps">SDK</span>, it&#8217;s easier to poke into <span class="caps">XPCOM</span> and stop once the extension works than to make a reusable module. I&#8217;ve seen a few third-party JetPack modules, but I have no idea how someone would make them discoverable or get them reviewed and accepted into Firefox.</p>

	<p>The <span class="caps">SDK</span> has a good story for e10s compatibility: high-level <span class="caps">API</span>s are known to be safe, low-level <span class="caps">API</span>s may need to be in a content process or a background process, depending on usage.<br />
Given the very incomplete state of reimplementing the Chrome <span class="caps">API</span>s (so far this preview is less featureful than even GreaseMonkey; you couldn&#8217;t port a script that has persistent settings without doing some funky async <span class="caps">IPC</span>), the <span class="caps">SDK</span> is the easiest way to get past the Electrolysis transition, for new or existing extensions.<br />
If there are real, systemic problems with the <span class="caps">SDK</span>, someone who knows them should chime in.</p>

	<p>Anyway, how useful and successful the WebExtensions model becomes will depend on Mozilla defining the perimeter of <span class="caps">API</span>s it is willing to accept (is competing with or extending Chrome <span class="caps">API</span>s allowed? if an <span class="caps">API</span> wouldn&#8217;t make sense on another browser, is it still allowed? is fixing or configuring firefox features allowed? do all <span class="caps">API</span>s have to be supported long-term? What are the quality requirements? What are the security boundaries?). There also needs to be a process to graduate sensible proposals into supported <span class="caps">API</span> (though not all of it will cross over to Servo; this could be a mechanism for sunsetting). There is a tradeoff between maintainability and power, but this is an &#8220;extension&#8221; <span class="caps">API</span>, and Mozilla needs to give some guidance to the community here.</p>