{"title": "Missing a rationale for WebExtensions", "date": "2015-08-23 22:40:43", "description": "", "categories": ["mozilla"], "slug": "missing-a-rationale-for-webextensions"}

	<p>Mozilla&#8217;s <a href="https://blog.mozilla.org/addons/2015/08/21/the-future-of-developing-firefox-add-ons/">announcement to deprecate <span class="caps">XUL</span>/XPCOM-based add-ons</a> raises many questions. Seeing the reactions, it seems that most people are very confused now. I mean, I see where this is coming from. <span class="caps">XUL</span> and <span class="caps">XPCOM</span> have become a burden, they come at a huge memory/performance/maintenance cost, impose significant limitations on browser development and create the danger that a badly written extension breaks everything. Whatever comes to replace them certainly won&#8217;t give add-on developers the same flexibility however, especially when it comes to extending the user interface. This is sad but I guess that it has to be done.</p>

	<p>What confuses me immensely however is WebExtensions which are touted as the big new thing. My experience with Chrome <span class="caps">API</span>s isn&#8217;t all too positive, the possibilities here are very limited and there is a fair number of inconsistencies. The documentation isn&#8217;t great either, there are often undocumented details that you only hit when trying things out. This isn&#8217;t very surprising of course: the <span class="caps">API</span> has grown along with Chrome itself, and many of the newer concepts simply didn&#8217;t exist back when the first interfaces were defined. Even worse: Opera, despite using the same engine, occasionally implements the same <span class="caps">API</span>s differently.</p>

	<p>So my main question is: does Mozilla really plan to keep bug-for-bug compatibility with Chrome <span class="caps">API</span>s all for the goal of cross-browser extensions? That&#8217;s an endless catch-up game that benefits Chrome way more than it helps Firefox. And what is this cross-browser story still worth once Mozilla starts adding their own interfaces which are incompatible to Chrome? Don&#8217;t forget that Chrome can add new <span class="caps">API</span>s as well, maybe even for the same purpose as Mozilla but with a different interface.</p>

	<p>Further, I don&#8217;t see any advantages of WebExtensions over the Add-on <span class="caps">SDK</span>. I wasn&#8217;t a fan of the <span class="caps">SDK</span> back when it was introduced but I must say that it really matured over the years. It took much time for the <span class="caps">SDK</span> to become a modern, consistent and flexible framework that it is right now. Mozilla invested significant effort into it and it paid off. What&#8217;s even more important, there is now sufficient documentation and examples for it on the web. Why throw all this away for a completely different framework? Note that the announcement says that most <span class="caps">SDK</span>-based extension will continue to work in the new world but according to the comments below it won&#8217;t be a development focus any more&nbsp;&mdash; from my experience, that&#8217;s an euphemism for &#8220;deprecated.&#8221;</p>

	<p>As mentioned above, I don&#8217;t see how theoretical cross-browser compatibility is going to benefit Firefox. Maybe the advantage lies in the permission model? But Chrome&#8217;s permission model is broken&nbsp;&mdash; most extensions need <span class="caps">API</span>s that could potentially allow them to access user&#8217;s browsing history. While most extensions won&#8217;t actually do anything like that, privacy violations are a very common issue with Chrome extensions. The privilege prompt doesn&#8217;t help users recognize whether there is a problem, it merely trains users to ignore privacy-related warnings. Oh, and it shifts the blame from Google to the user&nbsp;&mdash; the user has been warned, right?</p>

	<p>In my opinion, this permission model cannot be seen as a substitute for reviews. Nor will it make reviews easier than for <span class="caps">SDK</span>-based extensions: it&#8217;s pretty easy to extract the list of <span class="caps">SDK</span> modules uses by an extension. That gives one pretty much the same information as a list of permissions, albeit without requiring an explicit list.</p>

	<p>There must be a reason why Mozilla chose to develop WebExtension rather than focus that energy on improving the Add-on <span class="caps">SDK</span>. Sadly, I haven&#8217;t seen it mentioned anywhere so far.</p>